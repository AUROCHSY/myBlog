---
layout:     post
title:      MongoDB4.0在windows中安装与配置
subtitle:   MongoDB4.0在windows中安装与配置的一些坑
date:       2018-07-23
author:     Atom
header-img: img/post-bg-universe.jpg
catalog: true
tags:
    - 爬虫大法好
---


## 前言
**本文主要内容为:**
*MongoDB是什么
MongoDB4.0 在windows中安装与配置
会重点提到MongoDB4.0 在windows中安装与配置中遇到的一些坑*

## mongoDB是什么

**mongoDB特点概括:分布式文件储存，易扩展，非结构化**

1. ​MongoDB 是一个基于分布式文件存储的数据库。
2. 是一个介于关系数据库和非关系数据库之间的产品，是非关系数据库当中功能最丰富，最像关系数据库的。 
3. 随着在数据量和吞吐量方面的增长，MongoDB可轻松扩展，无需停机，无需更改应用程序。
4. MongoDB将数据存储在类似JSON的文档中，并且文档中每个json串结构可能有所不同。  MongoDB使用动态模式，这意味着您可以在不首先定义结构的情况下创建记录，例如字段或其值的类型。

## 本地安装

**1. 下载**
[官网下载](https://www.mongodb.com/download-center?jmp=nav#community)

![mongoDBxi _download.png](https://upload-images.jianshu.io/upload_images/7346071-43d48549e7192a81.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
)

**2. 安装**
1. 打开后一直点击next,中间点击custom选项更改储存位置，**注意路径不要有空格**
2. **注意取消勾选 MongoDB compass，不然安装过程会非常久**

**3. 路径配置**
1. 安装后的目录结构如下
  ![mongoDB安装后目录结构.png](https://upload-images.jianshu.io/upload_images/7346071-18f70ccc904e6105.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

2. 在安装目录 的`data`文件夹下创建 新的文件夹`db`，在 `log`文件夹下创建新文件`mongo.config`(新建txt文件改名)

3.在`bin`文件夹里的便是mongoDB的命令。接下来是配置数据库的路径。如果是windows10的话会自带powershell，进入到`bin`目录中，在文件资源管理器中的右上角点击`文件 ,打开powershell
![打开powershell.png](https://upload-images.jianshu.io/upload_images/7346071-c5e4e7e65d964c3f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

在powershell中输入命令`.\mongod –dbpath  D:\MongoDB\data\db`(此处替换为你自己的db文件夹的路径)

4.在浏览器中打开在浏览器中访问[http://localhost:27017](http://localhost:27017/) ，出现以下页面表示成功。
![MongoDB启动成功.png](https://upload-images.jianshu.io/upload_images/7346071-d9b95091806bfd17.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

**注:**
有点教程中第3步实在CMD中操作的，然而我的在CMD中是无效的，只有在powershell中才能正确执行指令。
系统没有自带powershell的可以上网搜一下如何安装

## 配置windows服务
1. 按如上方法在`bin`目录以**管理员身份**打开powshell,
  并分别执行以下命令：
  `.\mongod –dbpath D:\MongoDB\data\db`
  `.\mongod –logpath D:\MongoDB\log\mongo.log`
  `.\mongod –logappend`
  `.\mongod –serviceName MongoDB`
  `.\mongod –auth`
  `.\mongod –install`
  其中数据库路径为D:\MongoDB\data\db，日志路径为D:\MongoDB\log\mongo.log，服务名为MongoDB。

2. 输入：`net start MongoDB` ，提示服务启动成功, `net stop MongoDB` 提示服务停止。表示windows服务配置成功。
  #​​参考: 
   [掘金：MongoDB与mySQL对比](https://juejin.im/entry/5a18b88951882554b8373e20)​ 
  [菜鸟教程:MongoDB教程](http://www.runoob.com/mongodb/mongodb-tutorial.html)​
  [CSDN:MongoDB4.0在windows下的安装与服务配置](https://blog.csdn.net/Dorma_Bin/article/details/80851230)



